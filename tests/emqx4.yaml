id: emqx4
region: eu-west-1
os_name: ubuntu-jammy
os_version: 22.04
use_spot_instances: true
emqx:
  instance_type: m7g.2xlarge
  cpu_arch: arm64
  version_family: 4
  license_file: ~/Downloads/emqx4.lic
  dashboard_default_password: admin
  nodes:
    - instance_count: 3
emqtt_bench:
  instance_type: m6a.large
  cpu_arch: amd64
  nodes:
    - scenario: "sub -c 65000 -i 10 -t bench/%%i -q 1 --shortids --prefix a --startnumber 0"
    - scenario: "sub -c 65000 -i 10 -t bench/%%i -q 1 --shortids --prefix b --startnumber 65000"
    - scenario: "sub -c 65000 -i 10 -t bench/%%i -q 1 --shortids --prefix c --startnumber 130000"
    - scenario: "sub -c 65000 -i 10 -t bench/%%i -q 1 --shortids --prefix d --startnumber 195000"
    - scenario: "sub -c 65000 -i 10 -t bench/%%i -q 1 --shortids --prefix e --startnumber 260000"
    - scenario: "sub -c 65000 -i 10 -t bench/%%i -q 1 --shortids --prefix f --startnumber 325000"
    - scenario: "sub -c 65000 -i 10 -t bench/%%i -q 1 --shortids --prefix g --startnumber 390000"
    - scenario: "sub -c 65000 -i 10 -t bench/%%i -q 1 --shortids --prefix h --startnumber 455000"
    - scenario: "sub -c 65000 -i 10 -t bench/%%i -q 1 --shortids --prefix i --startnumber 520000"
    - scenario: "sub -c 1 -t bench/# -q 1"
locust:
  instance_type: m7g.large
  cpu_arch: arm64
  version: latest
  plan_entrypoint: locustfile.py
  topics_count: 585000
  unsubscribe_client_batch_size: 100
  max_client_id: 585000
  client_prefix_list: "a,b,c,d,e,f,g,h,i"
  users: 10000
  payload_size: 1024
  nodes:
    - instance_count: 1
      role: leader
    - instance_count: 5
      role: worker
